<%include shared/_Layout.ejs%>


<section class="footer-container footer-message">
    <div class="container">
        <div class="row">
            <h1>هنا تجد جميع الرسائل المرسلة اليك</h1>
            <!-- ******** Show When There is no Messages yet -->
            <% if(msg){ 
                msg.forEach((m) => {
                    var day     = m.date.getDate(),
                        month   = m.date.getMonth(),
                        year    = m.date.getFullYear(),
                        hour    = m.date.getHours(),
                        min     = m.date.getMinutes(),
                        sec     = m.date.getSeconds(),
                        AM_PM   = hour < 12 ? 'AM' :'PM'
            %>
                <div class="col-lg-10 col-lg-offset-1 message-once wow fadeInUpBig" data-wow-duration="1.2s">
                    <div class="description">
                        <span><%= year + '/' + month+'/'+day+' ' + hour+'-'+min+'-'+sec +' ' + AM_PM %></span>
                        <div class="sender-name">
                            <span><%= m.senderName %></span>
                            <% var imgPath = m.senderImg %>
                            <span><img src="<%= imgPath;%>" class="img-circle" /></span>
                            
                        </div>
                        <div class="sender-body">
                            <p><%= m.message %>></p>
                        </div>
                    </div>
                </div>
            <%}) 
            }else{%>
                <h2 class="empty-messages col-xs-8 col-xs-offset-2">ليس هناك رسائل فى الوقت الحالى</h2>
            <%}%>
        </div>
    </div>
</section>

<%include shared/footer.ejs%>

<script>
    $(function () {
        var content = $('.footer-message .message-once .sender-body p'),
            data_values =
                [ 
                    '(غاضب)', '(مؤلم)', '(مندهش)', '(مرتبك)', '(مشوش)', '(باكى)', '(محبط-لكن-مرتاح)', '(محبط)',
                    '(مصاب-بدوار)', '(فاقد-التعابير)', '(لذيذ)', '(يصرخ-من-الخوف)', '(يرمى-قلب)', '(بارد-العرق)',
                    '(مواجه-مع-انتصار)', '(قناع-طبى)', '(فم-مفتوح-مريض)', '(فم-مفتوح-مندهش)', '(مغلق-عينين-خاج-لسان)',
                    '(مغلق-عين-واحدة)', '(مخرج-لسانه)', '(موقف-مضحك)', '(مندهش-مصدوم)', '(يخشى-شئ)', '(وجه-متوهج)',
                    '(مقطب-الوجه)', '(مقطب-الوجه-باسنان)', '(مبتسم-باسنان)', '(مبتسم-بدون)', '(هادئ-الوجه)', '(قبلة-عين-مغلقة)',
                    '(قبلة-عين-مبتسمة)', '(قبلة-عين-مفتوحة)', '(بكاء-شديد)', '(وجه-محايد)', '(وجه-متأمل)', '(وجه-مثابر)',
                    '(وجه-عابس)', '(وجه-مرتاح)', '(نائم)', '(غارق-فى-النوم)', '(وجه-راضى)', '(وجه-كالملاك)', '(قلوب-فى-العين)',
                    '(بسمة-باحراج)', '(مبتسم-بفم-مفتوح)', '(مبتسم-عين-مغلقة)', '(مبتسم-عين-مفتوح)', '(يشعر-بالرضا)', '(مبتسم-بنظارة)',
                    '(متكلف-الابتسامة)', '(وجه-متعب)', '(غير-مستمع)', '(يشعر-بالضجر)', '(يشعر-بالتفاؤل)', '(وجه-بغماسة)', '(يشعر-بالقلق)'
                ],

            emojis =
                [
                    '<img src="img/emojis/angry-face_1f620.png" />',
                    '<img src="img/emojis/anguished-face_1f627.png" />',
                    '<img src="img/emojis/astonished-face_1f632.png" />',
                    '<img src="img/emojis/confounded-face_1f616.png" />',
                    '<img src="img/emojis/confused-face_1f615.png" />',
                    '<img src="img/emojis/crying-face_1f622.png" />',
                    '<img src="img/emojis/disappointed-but-relieved-face_1f625.png" />',
                    '<img src="img/emojis/disappointed-face_1f61e.png" />',
                    '<img src="img/emojis/dizzy-face_1f635.png"/>',
                    '<img src="img/emojis/expressionless-face_1f611.png" />',
                    '<img src="img/emojis/face-savouring-delicious-food_1f60b.png" />',
                    '<img src="img/emojis/face-screaming-in-fear_1f631.png" />',
                    '<img src="img/emojis/face-throwing-a-kiss_1f618.png" />',
                    '<img src="img/emojis/face-with-cold-sweat_1f613.png" />',
                    '<img src="img/emojis/face-with-look-of-triumph_1f624.png" />',

                    '<img src="img/emojis/face-with-medical-mask_1f637.png" />',
                    '<img src="img/emojis/face-with-open-mouth-and-cold-sweat_1f630.png" />',
                    '<img src="img/emojis/face-with-open-mouth_1f62e.png" />',
                    '<img src="img/emojis/face-with-stuck-out-tongue-and-tightly-closed-eyes_1f61d.png" />',
                    '<img src="img/emojis/face-with-stuck-out-tongue-and-winking-eye_1f61c.png" />',
                    '<img src="img/emojis/face-with-stuck-out-tongue_1f61b.png" />',
                    '<img src="img/emojis/face-with-tears-of-joy_1f602.png" />',
                    '<img src="img/emojis/face-without-mouth_1f636.png" />',
                    '<img src="img/emojis/fearful-face_1f628.png" />',
                    '<img src="img/emojis/flushed-face_1f633.png" />',
                    '<img src="img/emojis/frowning-face-with-open-mouth_1f626.png" />',
                    '<img src="img/emojis/grimacing-face_1f62c.png" />',
                    '<img src="img/emojis/grinning-face-with-smiling-eyes_1f601.png" />',
                    '<img src="img/emojis/grinning-face_1f600.png" />',
                    '<img src="img/emojis/hushed-face_1f62f.png" />',

                    '<img src="img/emojis/kissing-face-with-closed-eyes_1f61a.png" />',
                    '<img src="img/emojis/kissing-face-with-smiling-eyes_1f619.png" />',
                    '<img src="img/emojis/kissing-face_1f617.png" />',
                    '<img src="img/emojis/loudly-crying-face_1f62d.png" />',
                    '<img src="img/emojis/neutral-face_1f610.png" />',
                    '<img src="img/emojis/pensive-face_1f614.png" />',
                    '<img src="img/emojis/persevering-face_1f623.png" />',
                    '<img src="img/emojis/pouting-face_1f621.png" />',
                    '<img src="img/emojis/relieved-face_1f60c.png" />',
                    '<img src="img/emojis/sleeping-face_1f634.png" />',
                    '<img src="img/emojis/sleepy-face_1f62a.png" />',
                    '<img src="img/emojis/slightly-smiling-face_1f642.png" />',
                    '<img src="img/emojis/smiling-face-with-halo_1f607.png" />',
                    '<img src="img/emojis/smiling-face-with-heart-shaped-eyes_1f60d.png" />',
                    '<img src="img/emojis/smiling-face-with-open-mouth-and-cold-sweat_1f605.png" />',
                    '<img src="img/emojis/smiling-face-with-open-mouth-and-smiling-eyes_1f604.png" />',
                    '<img src="img/emojis/smiling-face-with-open-mouth-and-tightly-closed-eyes_1f606.png" />',
                    '<img src="img/emojis/smiling-face-with-open-mouth_1f603.png" />',
                    '<img src="img/emojis/smiling-face-with-smiling-eyes_1f60a.png" />',
                    '<img src="img/emojis/smiling-face-with-sunglasses_1f60e.png" />',
                    '<img src="img/emojis/smirking-face_1f60f.png" />',
                    '<img src="img/emojis/tired-face_1f62b.png" />',
                    '<img src="img/emojis/unamused-face_1f612.png" />',
                    '<img src="img/emojis/weary-face_1f629.png" />',
                    '<img src="img/emojis/white-smiling-face_263a.png" />',
                    '<img src="img/emojis/winking-face_1f609.png" />',
                    '<img src="img/emojis/worried-face_1f61f.png" />'
                ];

                content.each(function (index) {
                    for (var i = 0; i < emojis.length; i++)
                        content.eq(index).html(content.eq(index).html().replace(data_values[i], emojis[i]));
                });
    });
</script>